{% load static %}
<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Axeria-Re - Forex and Stock Broker</title>

    <link rel="shortcut icon" href="{% static 'assets/images/2.png' %}" type="image/x-icon">

    <!-- Styles -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/icons-webfont@2.36.0/tabler-icons.min.css">
    <link rel="stylesheet" href="{% static 'assets/css/style.min.css' %}">
</head>

<body>

    {% block content %}
    {% endblock content %}

    <!-- Modal -->
    <div class="modal fade" id="alertModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
    
                <div class="modal-header" id="modalHeader">
                    <h5 class="modal-title" id="modalTitle"></h5>
                    <button type="button" class="close" data-dismiss="modal"><span>&times;</span></button>
                </div>
    
                <div class="modal-body" id="modalMessage"></div>
    
                <div class="modal-footer">
                    <button class="btn btn-secondary" data-dismiss="modal">OK</button>
                </div>
    
            </div>
        </div>
    </div> 

    <!-- jQuery + Bootstrap (REQUIRED for modal to work) -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>

    <!-- User JS -->
    <script src="{% static 'assets/js/main.js' %}"></script>

    <!-- Modal Trigger Script -->
    {% if messages %}
    <script>
        $(document).ready(function() {

            {% for message in messages %}
                let text = "{{ message|escapejs }}";
                let tag  = "{{ message.tags }}";   // error, success, warning, info
            {% endfor %}

            // Default styles
            let title = "Notice";
            let color = "bg-primary";

            if (tag.includes("error")) {
                title = "Error";
                color = "bg-danger";
            }
            else if (tag.includes("success")) {
                title = "Success";
                color = "bg-success";
            }
            else if (tag.includes("warning")) {
                title = "Warning";
                color = "bg-warning";
            }
            else if (tag.includes("info")) {
                title = "Information";
                color = "bg-info";
            }

            // Apply dynamic title & color
            $("#modalTitle").text(title);
            $("#modalHeader").removeClass().addClass("modal-header text-white " + color);

            // Set the message text
            $("#modalMessage").text(text);

            // Show modal
            $("#alertModal").modal("show");
        });
    </script>
    {% endif %}

</body>

</html>
